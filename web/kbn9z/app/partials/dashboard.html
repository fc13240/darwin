<nil ng-repeat="pulldown in dashboard.current.pulldowns" ng-controller="PulldownCtrl" ng-show="pulldown.enable"><div class="top-row-close pointer pull-left" ng-class="pulldownTabStyle($index)" ng-click="toggle_pulldown(pulldown);dismiss();" bs-tooltip="'切换 '+pulldown.title" data-placement="bottom"><span class="small">{{pulldown.title}}</span> <i class="small" ng-class="{'icon-caret-left':pulldown.collapse,'icon-caret-right':!pulldown.collapse}"></i> <i class="small icon-star" ng-show="row.notice && pulldown.collapse"></i></div><!-- <div class="modal-footer" style="float:left;margin:-6px 6px" ng-if="pulldown.type=='query'"><button type="button" class="btn btn-success" bs-popover="'app/partials/saveQuery.html'" ng-click="">保存</button> <button type="button" class="btn btn-success" ng-click="dashboard.open_query(dashboard)" bs-popover="'app/partials/openQuery.html'">打开</button></div> --><div class="clearfix bgNav" ng-hide="pulldown.collapse"></div><div class="top-row-open" ng-hide="pulldown.collapse"><kibana-simple-panel type="pulldown.type" ng-cloak=""></kibana-simple-panel></div></nil><div class="clearfix bgNav"></div><div class="container-fluid main"><div><div class="kibana-container container"><div class="kibana-row" ng-controller="RowCtrl" ng-repeat="(row_name, row) in dashboard.current.rows" ng-style="row_style(row)"><div class="row-control"><div class="" style="padding:0px;margin:0px;position:relative"><div class="row-close" ng-show="row.collapse" data-placement="bottom"><span class="row-button bgWarning" config-modal="app/partials/roweditor.html" kbn-model="row" class="pointer"><i bs-tooltip="'配置行'" data-placement="right" ng-show="row.editable" class="icon-cog pointer"></i></span> <span class="row-button bgPrimary" ng-click="toggle_row(row)" ng-show="row.collapsable"><i bs-tooltip="'展开行'" data-placement="right" ng-show="row.collapsable" class="icon-caret-left pointer"></i></span> <span class="row-button row-text" ng-click="toggle_row(row)" ng-class="{'pointer':row.collapsable}">{{row.title || 'Row '+$index}}</span></div><div style="text-align:center" class="kbn9z-row-open" ng-show="!row.collapse"><div ng-show="row.collapsable" class="row-tab kbn9z-row-collapse-button" ng-click="toggle_row(row)"><img bs-tooltip="'收缩行'" src="css/img/dash_row_collapse.png"><br></div><div class="kbn9z-row-subtab"><div config-modal="app/partials/roweditor.html" kbn-model="row" class="row-tab kbn9z-row-subtab-button" ng-show="row.editable"><img bs-tooltip="'配置行'" src="css/img/dash_row_setting.png"><br></div><div class="row-tab kbn9z-row-subtab-button" ng-click="editor.index = 2" config-modal="app/partials/roweditor.html" kbn-model="row" ng-show="row.editable"><img bs-tooltip="'添加面板'" src="css/img/dash_row_add.png"><br></div></div></div></div><div style="padding-top:0px" ng-if="!row.collapse"><div ng-repeat="(name, panel) in row.panels|filter:isPanel" ng-cloak="" ng-hide="panel.hide" kibana-panel="" type="panel.type" resizable="" class="panel nospace" ng-class="{'dragInProgress':dashboard.panelDragging}" style="position:relative" ng-style="{'width':!panel.span?'100%':((panel.span/1.2)*10)+'%'}" data-drop="true" ng-model="row.panels" data-jqyoui-options="" jqyoui-droppable="{index:$index,mutate:false,onDrop:'panelMoveDrop',onOver:'panelMoveOver(true)',onOut:'panelMoveOut'}"></div><div ng-show="dashboard.panelDragging && row.panels.length == 0" class="panel panel-filler" style="" ng-class="{'dragInProgress':dashboard.panelDragging}" ng-style="{height:row.height}" data-drop="true" ng-model="row.panels" data-jqyoui-options="" jqyoui-droppable="{index:row.panels.length,mutate:false,onDrop:'panelMoveDrop',onOver:'panelMoveOver',onOut:'panelMoveOut'}"><h1>拖拽以添加到这行</h1></div><span config-modal="app/partials/roweditor.html" kbn-model="row" ng-show="row.editable && !dashboard.panelDragging"><span ng-click="editor.index = 2" style="margin-top: 3px; margin-left: 5px" ng-show="row.panels.length==0" class="btn btn-mini">添加面板到空行</span></span><div class="clearfix"></div></div></div></div><div class="row-fluid" ng-show="dashboard.current.editable"><div class="span12" style="text-align:right"><span class="pointer btn btn-mini row-add-button" config-modal="app/partials/dasheditor.html" kbn-model="dashboard"><span ng-click="editor.index = 2"><i class="icon-plus-sign"></i> 添加一行</span></span></div></div></div></div></div>