<div class="modal-body"><div class="pull-right editor-title">仪表盘配置</div><div ng-model="editor.index" bs-tabs="" style="text-transform:capitalize"><div ng-repeat="tab in ['通用','索引','行']" data-title="{{tab}}"></div><div ng-repeat="tab in dashboard.current.nav|editable" data-title="{{tab.title || tab.type}}"></div></div><div ng-if="editor.index == 0"><div class="editor-row"><div class="section"><div class="editor-option"><label class="small">标题</label><input type="text" class="input-large" ng-model="dashboard.current.title"></div><div class="editor-option"><label class="small">样式</label><select class="input-small" ng-model="dashboard.current.style" ng-options="f for f in ['dark','light']"></select></div><div class="editor-option"><label class="small">可编辑</label><input type="checkbox" ng-model="dashboard.current.editable" ng-checked="dashboard.current.editable"></div><div class="editor-option"><label class="small">提示<tip>在空白处显示‘添加面板’</tip></label><input type="checkbox" ng-model="dashboard.current.panel_hints" ng-checked="dashboard.current.panel_hints"></div></div></div></div><div ng-if="editor.index == 1"><div class="editor-row"><div class="section"><h5>索引配置</h5><div ng-show="dashboard.current.index.interval != 'none'" class="row-fluid"><div class="editor-option"><p class="small">.</p></div></div></div></div><div class="editor-row"><div class="section"><div style="display:none" class="editor-option"><h6>Timestamping</h6><select class="input-small" ng-model="dashboard.current.index.interval" ng-options="f for f in ['none','hour','day','week','month','year']"></select></div><div class="editor-option" ng-show="dashboard.current.index.interval != 'none'"><h6>索引模式 <small>Absolutes in []</small></h6><input type="text" class="input-large" ng-model="dashboard.current.index.pattern"></div><div class="editor-option" ng-show="dashboard.current.index.interval != 'none'"><h6>Failover <i class="icon-question-sign" bs-tooltip="'如果没有索引匹配该模式，则默认索引 *NOT RECOMMENDED*将会失败'"></i></h6><input type="checkbox" ng-model="dashboard.current.failover" ng-checked="dashboard.current.failover"></div><div class="editor-option" ng-show="dashboard.current.failover || dashboard.current.index.interval == 'none'"><h6>默认索引 <small ng-show="dashboard.current.index.interval != 'none'">如果索引找不到</small></h6><input type="text" class="input-medium" ng-model="dashboard.current.index.default"></div><div style="display:none" class="editor-option"><h6>预加载字段 <i class="icon-question-sign" bs-tooltip="'预加载字段可用于自动填充'"></i></h6><input type="checkbox" ng-model="dashboard.current.index.warm_fields" ng-checked="dashboard.current.index.warm_fields"></div></div></div></div><div ng-if="editor.index == 2"><div class="row-fluid"><div class="span8"><h4>行</h4><table class="table table-striped"><thead><th width="1%"></th><th width="1%"></th><th width="1%"></th><th width="97%">标题</th></thead><tr ng-repeat="row in dashboard.current.rows"><td><i ng-click="_.move(dashboard.current.rows,$index,$index-1)" ng-hide="$first" class="pointer icon-arrow-up"></i></td><td><i ng-click="_.move(dashboard.current.rows,$index,$index+1)" ng-hide="$last" class="pointer icon-arrow-down"></i></td><td><i ng-click="dashboard.current.rows = _.without(dashboard.current.rows,row)" class="pointer icon-remove"></i></td><td>{{row.title||'未命名'}}</td></tr></table></div><div class="span4"><h4>添加行</h4><label class="small">标题</label><input type="text" class="input-medium" ng-model="row.title" placeholder="新的一行"><label class="small">行高</label><input type="text" class="input-mini" ng-model="row.height"></div></div><div class="row-fluid"></div></div><div ng-if="editor.index == 3" ng-controller="dashLoader"><div class="editor-row"><div class="section"><h5>导出</h5><div class="editor-option"><label class="small">导出</label><input type="checkbox" ng-model="dashboard.current.loader.save_local" ng-checked="dashboard.current.loader.save_local"></div><div class="editor-option"><label class="small">浏览</label><input type="checkbox" ng-model="dashboard.current.loader.save_default" ng-checked="dashboard.current.loader.save_default"></div><div class="editor-option"><label class="small">Elasticsearch</label><input type="checkbox" ng-model="dashboard.current.loader.save_elasticsearch" ng-checked="dashboard.current.loader.save_elasticsearch"></div></div><div class="section"><h5>导入</h5><div class="editor-option"><label class="small">Elasticsearch</label><input type="checkbox" ng-model="dashboard.current.loader.load_elasticsearch" ng-checked="dashboard.current.loader.load_elasticsearch"></div><div class="editor-option" ng-show="dashboard.current.loader.load.elasticsearch"><label class="small">ES list size</label><input class="input-mini" type="number" ng-model="dashboard.current.loader.load_elasticsearch_size"></div></div></div></div><div ng-if="editor.index == 3"><div class="editor-row"><div class="section"><h5>下拉选项</h5><div class="editor-option" ng-repeat="pulldown in dashboard.current.pulldowns"><label class="small" style="text-transform:capitalize">{{pulldown.title}}</label><input type="checkbox" ng-model="pulldown.enable" ng-checked="pulldown.enable"></div><div class="editor-option" ng-repeat="pulldown in dashboard.current.nav|editable"><label class="small" style="text-transform:capitalize">{{pulldown.title}}</label><input type="checkbox" ng-model="pulldown.enable" ng-checked="pulldown.enable"></div></div></div></div></div><div class="modal-footer"><button type="button" class="btn btn-cancel" ng-click="editor.index=0;dismiss();reset_panel();dashboard.refresh()">取消</button> <button type="button" ng-click="add_row(dashboard.current,row); reset_row();" class="btn btn-info" ng-show="editor.index == 2">新建行</button> <button type="button" class="btn btn-success" ng-click="editor.index=0;editSave(dashboard);dismiss();reset_panel();dashboard.refresh()">保存</button></div>