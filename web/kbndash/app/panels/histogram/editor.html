<div class="editor-row"><div class="section"><h5>数据来源</h5><div class="editor-option"><label class="small">数据来源</label><select ng-init="panel.dstype = panel.dstype || 'search'" class="input-small" ng-change="ds_change(panel.dstype)" ng-model="panel.dstype"><option value="analytics">分析</option><option value="hbase">Hbase</option><option value="search" ng-selected="true">搜索</option></select></div></div><div class="editor-option" ng-show="panel.dstype !== 'search'"><div class="section"><h5>表名</h5><div class="editor-option"><label class="small">表名</label><select ng-init="panel.tablename = current_tablename" ng-change="current_option_change(panel.tablename);set_refresh(true)" class="input-small" ng-model="panel.tablename" ng-options="s.name for s in list"></select></div></div><div class="section"><h5>字段名</h5><div class="editor-option"><label class="small">字段名</label><select ng-init="panel.tablenamefields = current_tablenamefields" ng-change="set_refresh(true)" class="input-small" ng-model="panel.tablenamefields"><option value="{{sh.name}}({{sh.type}})" ng-repeat="sh in tablenamefields">{{sh.name}}({{sh.type}})</option></select></div></div></div><div class="editor-option" ng-show="panel.dstype === 'search'"><div class="section"><h5>索引</h5><div class="editor-option"><label class="small">索引</label><select ng-change="set_refresh(true)" class="input-small" ng-model="panel.index"><option value="{{key}}" ng-repeat="(key,val) in list">{{key}}</option></select></div></div><div class="section"><h5>表名</h5><div class="editor-option"><label class="small">表名</label><select ng-change="set_refresh(true)" class="input-small" ng-model="panel.indextable"><option ng-repeat="table in list[panel.index]">{{table}}</option></select></div></div></div><div class="section"><h5>Y轴数值计算方式设置</h5><div class="editor-option"><label class="small">Y轴值</label><select ng-change="set_refresh(true)" ng-init="panel.mode=panel.mode||'count'" ng-model="panel.mode"><option ng-selected="panel.mode=='count'" value="count">记录行数</option><option ng-selected="panel.mode=='min'" value="min">选定数值字段的最小值</option><option ng-selected="panel.mode=='mean'" value="mean">选定数值字段的平均值</option><option ng-selected="panel.mode=='max'" value="max">选定数值字段的最大值</option><option ng-selected="panel.mode=='total'" value="total">选定数值字段的总和</option></select></div><div class="editor-option" ng-show="panel.mode != 'count'"><label class="small">数值字段<tip>该字段必须为数值型</tip></label><input ng-change="set_refresh(true)" placeholder="请输入" bs-typeahead="fields.list" type="text" class="input-medium" ng-model="panel.value_field"></div></div><div style="display:none" class="section"><h5>变换系列</h5><div class="editor-option" ng-show="panel.mode != 'count'"><label class="small">比例</label><input type="text" class="input-mini" ng-model="panel.scale"></div><div class="editor-option"><label class="small">秒<tip>统一间隔到秒</tip></label><input type="checkbox" ng-model="panel.scaleSeconds" ng-checked="panel.scaleSeconds"></div><div class="editor-option"><label class="small">导数<tip>绘制每个系列中的区间变化</tip></label><input type="checkbox" ng-model="panel.derivative" ng-checked="panel.derivative" ng-change="set_refresh(true)"></div><div class="editor-option"><label class="small">零值填充<tip>在空值处以零填充.</tip></label><input type="checkbox" ng-model="panel.zerofill" ng-checked="panel.zerofill" ng-change="set_refresh(true)"></div></div><div class="section"><h5>X轴时间字段设置</h5><div class="editor-option"><label class="small">时间字段</label><input ng-change="set_refresh(true)" placeholder="请输入" bs-typeahead="fields.list" type="text" class="input-small" ng-model="panel.time_field"></div><div style="display:none" class="editor-option"><label class="small">时间校正</label><select ng-model="panel.timezone" class="input-small" ng-options="f for f in ['browser','utc']"></select></div><div style="display:none" class="editor-option"><label class="small">自动间隔</label><input type="checkbox" ng-model="panel.auto_int" ng-checked="panel.auto_int"></div><div style="display:none" class="editor-option" ng-show="panel.auto_int"><label style="display:none" class="small">解析<tip>数据点很多时，变换到正常的时间间隔</tip></label><input style="display:none" type="number" class="input-mini" ng-model="panel.resolution" ng-change="set_refresh(true)"></div><div style="display:none" class="editor-option" ng-hide="panel.auto_int"><label class="small">间隔<tip>使用时间模式 (例如 1m, 5m, 1d, 2w, 1y)</tip></label><input type="text" class="input-mini" ng-model="panel.interval" ng-change="set_refresh(true)"></div></div></div>